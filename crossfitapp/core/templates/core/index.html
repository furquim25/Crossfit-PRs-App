{% extends 'core/base.html' %}

{% block title %} Crossfit PRs App {% endblock title %}


{% block content %}
    <h2 class="mb-12 text-2xl text-center"> Welcome, {{ request.user.first_name }}! </h2>
    <form method="get" action="{% url 'core:index' %}">
        <div class="flex items-center">
            <input name="query" class="w-full py-4 px-6 border rounded-xl" type="text" value="{{ query }}" placeholder="Search a Personal Record">
            {% if query %}
                <a href="{% url 'core:index' %}"><button type="button" class="ml-2 py-4 px-8 text-lg bg-teal-500 text-white rounded-xl"> Clear </button></a>
            {% else %}
                <a href="{% url 'core:index' %}"><button type="submit" class="ml-2 py-4 px-8 text-lg bg-teal-500 text-white rounded-xl"> Search </button></a>
            {% endif %}
        </div>
          
          
    <div class="mt-6 px-6 py-12 bg-gray-100 rounded-xl">
        <div class= "grid grid-cols-1 gap-3">
            {% for item in items %}
                <div>
                    <a href="{% url 'edit' item.id %}">
                        <div class="p-6 bg-white rounded-xl shadow-lg">
                            <h2 class="text-2xl">{{ item.name }} - {{ item.personal_record }} kg</h2>
                            <p class="text-black-500">{{ item.pr_date|date:"d/m/Y" }} </p>
                            <p class="text-gray-500">Obs: {{ item.observation }} </p>
                            <p class="text-center text-violet-600 font-medium">EDIT</p>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock  %}